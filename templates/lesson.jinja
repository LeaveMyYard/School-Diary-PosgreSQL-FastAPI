{% include "header.jinja"%}
    <link href="{{ url_for('static', path='/css/teacher.css') }}" rel="stylesheet">
    <div class="page-content page-container" id="page-content">
    <div class="padding">
        <div class="container d-flex justify-content-center">
            <div class="col">
                <div class="card user-card-full">
                    <div class="row m-l-0 m-r-0">
                        <div class="col-sm-4 bg-c-lite-green user-profile">
                            <div class="card-block text-center text-white">
                                <div class="m-b-25"> <img src="https://img.icons8.com/dusk/64/000000/courses.png" class="img-radius" alt="User-Profile-Image"> </div>
                                <h5 class="f-w-600">{{lesson.lesson_number}} lesson of {{lesson.date}}</h5>
                                <h6 class="f-w-600">Lesson, {{course.course_name}}</h6>
                                <p>Teacher: <a href="/teacher/{{teacher.teacher_id}}/" class="btn btn-sm btn-primary">{{ teacher.full_name }}</a></p>
                                <p>Class: <a href="/class/{{class_obj.class_id}}/" class="btn btn-sm btn-primary">{{ class_obj.display_name }}</a></p>
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="card-block">
                              {% for student in students %}
                                <div class='row'>
                                  <h5 class="m-b-20 p-b-5 b-b-default f-w-600" style="margin-right:15px"> <a href="/student/{{student.student_id}}/" class="btn btn-sm btn-outline-primary">{{student.full_name}} </a></h5>
                                  <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckFor{{student.student_id}}" {{"checked" if student.student_id in present_students else ""}} {{"disabled" if panel_type in ["student", "parent"] else ""}}>
                                    <label class="form-check-label" for="flexCheckFor{{student.student_id}}">
                                      {% if student.student_id in present_students%}
                                        Present
                                      {% else %}
                                        Absent
                                      {% endif%}
                                    </label>
                                  </div>
                                </div>
                                {% if marks[student.student_id] != [] %}
                                  <table class="table table-sm">
                                    <thead>
                                      <tr>
                                        <th scope="col">Mark</th>
                                        <th scope="col">Type</th>
                                        <th scope="col">Description</th>
                                        <th scope="col">Homework</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      {% for mark in marks[student.student_id] %}
                                        <tr>
                                          <td> {{mark.mark_value}} </td>
                                          <td> {{mark.type}} </td>
                                          <td> {{mark.description or "-"}} </td>
                                          <td> {{mark.homework_id}} </td>
                                        </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                {% else %}
                                  <h6 class="f-w-600"> No marks </h6>
                                {% endif %}
                              {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% include "footer.jinja" %}
